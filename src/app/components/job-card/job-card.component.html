<div class="bg-white p-4 rounded border border-gray-200">
  <div class="flex justify-between items-start">
    <h3 class="font-semibold text-gray-800">{{ job.title }}</h3>
    <span class="text-xs text-gray-400">{{ job.date | date:'dd/MM/yyyy' }}</span>
  </div>

  <p class="text-gray-600 text-sm mt-1">{{ job.company }}</p>
  <p class="text-gray-400 text-sm">{{ job.location }}</p>

  <p class="text-sm text-green-600 mt-1" *ngIf="job.salary !== 'Non spécifié'">
    {{ job.salary }}
  </p>

  <p class="text-gray-500 text-sm mt-2">{{ job.description | truncate:200 }}</p>

  <div class="flex flex-wrap gap-2 mt-3">
    <a [href]="job.url" target="_blank"
       class="bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700">
      Voir l'offre
    </a>

    @if (isLoggedIn) {
      <button (click)="onToggleFavorite()"
              [class]="isFavorite
                ? 'bg-gray-800 text-white px-3 py-1 rounded text-sm hover:bg-gray-700'
                : 'border border-gray-300 text-gray-600 px-3 py-1 rounded text-sm hover:bg-gray-50'">
        {{ isFavorite ? 'Favori' : 'Ajouter aux favoris' }}
      </button>

      <button (click)="onAddApplication()"
              class="border border-gray-300 text-gray-600 px-3 py-1 rounded text-sm hover:bg-gray-50">
        Suivre candidature
      </button>
    }
  </div>
</div>
