<div class="bg-white p-5 rounded-lg shadow-md hover:shadow-lg transition-shadow">
  <div class="flex justify-between items-start">
    <h3 class="text-lg font-semibold text-blue-600">{{ job.title }}</h3>
    <span class="text-xs text-gray-400">{{ job.date | date:'dd/MM/yyyy' }}</span>
  </div>

  <p class="text-gray-700 font-medium mt-1">{{ job.company }}</p>
  <p class="text-gray-500 text-sm">{{ job.location }}</p>

  <p class="text-sm text-green-600 mt-1" *ngIf="job.salary !== 'Non spécifié'">
    {{ job.salary }}
  </p>

  <p class="text-gray-600 text-sm mt-2 line-clamp-3">{{ job.description }}</p>

  <div class="flex flex-wrap gap-2 mt-4">
    <a [href]="job.url" target="_blank"
       class="bg-blue-600 text-white px-4 py-1.5 rounded text-sm hover:bg-blue-700">
      Voir l'offre
    </a>

    @if (isLoggedIn) {
      <button (click)="onToggleFavorite()"
              [class]="isFavorite
                ? 'bg-yellow-500 text-white px-4 py-1.5 rounded text-sm hover:bg-yellow-600'
                : 'border border-yellow-500 text-yellow-500 px-4 py-1.5 rounded text-sm hover:bg-yellow-50'">
        {{ isFavorite ? '★ Favori' : '☆ Ajouter aux favoris' }}
      </button>

      <button (click)="onAddApplication()"
              class="border border-green-500 text-green-500 px-4 py-1.5 rounded text-sm hover:bg-green-50">
        Suivre cette candidature
      </button>
    }
  </div>
</div>
